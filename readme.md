# 素数の個数を数えるプログラム

## 概要
素数リストを1億までビットで保持し，範囲中のtrueを数える。

範囲指定がうまくできていないため正しい結果とならないが，

下期ではレギュレーション違反となるので凍結。

## 注意
primelist.cppはテキストエディタ以外で開いてください。

ビルドはgccで行ってください。

## 解説

### 奇数が素数か合成数かの判定結果のリスト化

非素数 = false = 0, 素数 = true = 1とする。

1は非素数,3は素数,5は素数,7は素数,9は非素数,11は素数,13は素数,15は非素数であるので、

素数判定数列は0,1,1,1,0,1,1,0となる。この数列を1つの2進数の数字に変換する。

低位ビットから順に当てはめる。1～15は`01101110`となる。1～1億までならば5千万桁必要になる。

5千万桁は1変数で扱えないので64bit整数に振り分ける。1変数で128n+1～128n+127(nは正整数)を表す。100,000,000までで781,250の要素必要になる。

1～127までの判定結果を2進数で表すと `10000001 01101101 00010010 10011010 01100100 10110100 11001011 01101110`となり，

これがリスト1つ目のデータ0x816d129a64b4cb6eに該当する。

リストはprimelist.cppに収録、リストは別プログラムを作成し用意した。

### 範囲の数え上げ
指定範囲にある1要素全体含まれていれば1要素のbitが立っている数を数える(popcount)。

指定開始点・指定終了点が要素の途中にあれば，その値までのフィルターを作成してpopcountする。

## ビルド方法
VisualStudioではコンパイルできないようだったのでg++を用いる。

g++ ver7.3.0を用いた。

```
 g++ primelist.h primelist.cpp primelist2.cpp pc43_douyama.cpp -o pc43_douyama.exe -static -lstdc++ -lgcc -lwinpthread
```

## 更新履歴
2019.2.15 提出に向けて体裁調整 堂山
